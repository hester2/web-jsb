(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30c10568"],{"06f6":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"editor"},[r("div",{ref:"toolbar",staticClass:"toolbar"}),r("div",{ref:"editor",staticClass:"text"})])},i=[],l=r("1a0b"),o=r.n(l),s={name:"Editoritem",model:{prop:"value",event:"change"},props:{value:{type:String,default:""},isClear:{type:Boolean,default:!1}},data:function(){return{editor:null,info_:null}},watch:{isClear:function(e){e&&(this.editor.txt.clear(),this.info_=null)},value:function(e){e!==this.editor.txt.html()&&this.editor.txt.html(this.value)}},mounted:function(){this.seteditor(),this.editor.txt.html(this.value)},methods:{seteditor:function(){var e=this;console.log("gg"),this.editor=new o.a(this.$refs.toolbar,this.$refs.editor),this.editor.customConfig.uploadImgShowBase64=!1,this.editor.customConfig.uploadImgServer=this.$WebUrl+"/file/upload?code=2",this.editor.customConfig.uploadImgHeaders={Authorization:this.$store.getters.token},this.editor.customConfig.uploadFileName="files",this.editor.customConfig.uploadImgMaxSize=2097152,this.editor.customConfig.uploadImgMaxLength=6,this.editor.customConfig.uploadImgTimeout=18e4,console.log(this.editor.customConfig),this.editor.customConfig.menus=["head","bold","fontSize","fontName","italic","underline","strikeThrough","foreColor","backColor","link","list","justify","quote","emoticon","image","table","video","code","undo","redo","fullscreen"],this.editor.customConfig.uploadImgHooks={fail:function(e,t,r){},success:function(e,t,r){},timeout:function(e,t){},error:function(e,t){},customInsert:function(t,r,a){console.log(r.result);var i=e.$UploadUrl+r.result.url[0];t(i)}},this.editor.customConfig.onchange=function(t){e.info_=t,e.$emit("change",e.info_)},this.editor.create()}}},n=s,u=(r("74ad"),r("2877")),c=Object(u["a"])(n,a,i,!1,null,null,null);t["a"]=c.exports},1276:function(e,t,r){"use strict";var a=r("d784"),i=r("44e7"),l=r("825a"),o=r("1d80"),s=r("4840"),n=r("8aa5"),u=r("50c4"),c=r("14c3"),d=r("9263"),m=r("d039"),f=[].push,p=Math.min,h=4294967295,g=!m((function(){return!RegExp(h,"y")}));a("split",2,(function(e,t,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(o(this)),l=void 0===r?h:r>>>0;if(0===l)return[];if(void 0===e)return[a];if(!i(e))return t.call(a,e,l);var s,n,u,c=[],m=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,m+"g");while(s=d.call(g,a)){if(n=g.lastIndex,n>p&&(c.push(a.slice(p,s.index)),s.length>1&&s.index<a.length&&f.apply(c,s.slice(1)),u=s[0].length,p=n,c.length>=l))break;g.lastIndex===s.index&&g.lastIndex++}return p===a.length?!u&&g.test("")||c.push(""):c.push(a.slice(p)),c.length>l?c.slice(0,l):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=o(this),l=void 0==t?void 0:t[e];return void 0!==l?l.call(t,i,r):a.call(String(i),t,r)},function(e,i){var o=r(a,e,this,i,a!==t);if(o.done)return o.value;var d=l(e),m=String(this),f=s(d,RegExp),b=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new f(g?d:"^(?:"+d.source+")",v),k=void 0===i?h:i>>>0;if(0===k)return[];if(0===m.length)return null===c(y,m)?[m]:[];var I=0,x=0,w=[];while(x<m.length){y.lastIndex=g?x:0;var S,$=c(y,g?m:m.slice(x));if(null===$||(S=p(u(y.lastIndex+(g?0:x)),m.length))===I)x=n(m,x,b);else{if(w.push(m.slice(I,x)),w.length===k)return w;for(var A=1;A<=$.length-1;A++)if(w.push($[A]),w.length===k)return w;x=I=S}}return w.push(m.slice(I)),w}]}),!g)},"14c2":function(e,t,r){},"40dd":function(e,t,r){},"4ed6":function(e,t,r){"use strict";var a=r("40dd"),i=r.n(a);i.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),i=r("5899"),l="["+i+"]",o=RegExp("^"+l+l+"*"),s=RegExp(l+l+"*$"),n=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(o,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:n(1),end:n(2),trim:n(3)}},"74ad":function(e,t,r){"use strict";var a=r("14c2"),i=r.n(a);i.a},"8fe0":function(e,t,r){"use strict";r.r(t);var a,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gd-release-main"},[a("div",{staticClass:"gd-release-card"},[a("p",{staticClass:"gd-release-title"},[a("router-link",{attrs:{to:"/"}},[e._v("主页")]),e._v(" "),a("span",{staticClass:"el-icon-arrow-right"}),a("router-link",{attrs:{to:"/shop"}},[e._v("制成品商城")]),a("span",{staticClass:"el-icon-arrow-right"}),a("span",[e._v("发布制成品")])],1),a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":"",enctype:"multipart/form-data","label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品标题",prop:"name"}},[a("el-input",{attrs:{placeholder:"输入商品标题"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"简略标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("div",{staticClass:"gd-release-row"},[a("el-form-item",{attrs:{label:"产品编号",prop:"serial"}},[a("el-input",{attrs:{placeholder:"请输入编号"},model:{value:e.form.serial,callback:function(t){e.$set(e.form,"serial",t)},expression:"form.serial"}})],1),a("el-form-item",{attrs:{label:"制塑工艺",prop:"making"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择制塑工艺"},on:{change:e.handleMak},model:{value:e.form.making,callback:function(t){e.$set(e.form,"making",t)},expression:"form.making"}},e._l(e.make,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"材质",prop:"material"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.material,callback:function(t){e.$set(e.form,"material",t)},expression:"form.material"}})],1),a("el-form-item",{attrs:{label:"品牌",prop:"brand"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1)],1),a("div",{staticClass:"gd-release-row"},[a("el-form-item",{attrs:{label:"产地",prop:"origin"}},[a("el-input",{attrs:{placeholder:"请输入产地"},model:{value:e.form.origin,callback:function(t){e.$set(e.form,"origin",t)},expression:"form.origin"}})],1),a("el-form-item",{attrs:{label:"单位",prop:"unit"}},[a("el-select",{attrs:{placeholder:"请选择单位"},model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}},[a("el-option",{attrs:{label:"t",value:"t"}}),a("el-option",{attrs:{label:"kg",value:"kg"}})],1)],1),a("el-form-item",{attrs:{label:"发货地点",prop:"val"}},[a("div",{staticClass:"block"},[a("el-cascader",{attrs:{filterable:"",options:e.options,props:e.props,clearable:""},on:{change:e.handleAddress},model:{value:e.form.val,callback:function(t){e.$set(e.form,"val",t)},expression:"form.val"}})],1)]),a("el-form-item",{attrs:{label:"货运方式",prop:"freight"}},[a("el-select",{attrs:{placeholder:"请选择货运方式"},model:{value:e.form.freight,callback:function(t){e.$set(e.form,"freight",t)},expression:"form.freight"}},[a("el-option",{attrs:{label:"物流",value:"shanghai"}})],1)],1)],1),a("div",{staticClass:"gd-release-tab"},[a("div",{staticClass:"gd-release-row-img"},[a("img",{attrs:{src:r("c149"),alt:""},on:{click:function(t){e.dialogVisible=!0}}})]),a("el-table",{ref:"tableData",staticStyle:{width:"1100px"},attrs:{data:e.tableData,border:"","tooltip-effect":"dark","max-height":"250"}},[a("el-table-column",{attrs:{fixed:"","show-overflow-tooltip":!0,prop:"specTempIndex",label:"商品规格",width:"130"}}),a("el-table-column",{attrs:{label:"规格图片",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"gd-purOrder-title"},[a("img",{attrs:{src:e.$UploadUrl+t.row.url,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"goodsStockVo.num",label:"发布库存量",width:"138"}}),a("el-table-column",{attrs:{prop:"perPrice",label:"单品价格",width:"180"}}),a("el-table-column",{attrs:{prop:"minPurchase",label:"最低采购量",width:"100"}}),a("el-table-column",{attrs:{prop:"showPrice",label:"展示价格",width:"140"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"198"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[a("el-input",{attrs:{placeholder:"以逗号分开,最多5个"},model:{value:e.form.keywords,callback:function(t){e.$set(e.form,"keywords",t)},expression:"form.keywords"}})],1),a("el-form-item",{attrs:{label:"内容简要",prop:"textarea"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容",resize:"none",rows:5,maxlength:"500",minlength:"10","show-word-limit":""},model:{value:e.form.textarea,callback:function(t){e.$set(e.form,"textarea",t)},expression:"form.textarea"}})],1),a("el-form-item",{attrs:{label:"上传图片"}},[a("div",[a("el-upload",{ref:"upload",attrs:{drag:"",multiple:"",name:"files","list-type":"picture-card",data:e.upData,"file-list":e.fileList,limit:e.limit,action:e.imageAction,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-upload":e.beforeAVatarUpload,"on-exceed":e.onExceed,"on-error":e.uploadError,"on-success":e.uploadSuccess,"auto-upload":!0,headers:{Authorization:this.$store.getters.token}}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:e.dialogUpload},on:{"update:visible":function(t){e.dialogUpload=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)]),a("el-form-item",{attrs:{label:"详细内容",prop:"detail"}},[a("div",{staticClass:"gd-text-card"},[a("editor-bar",{attrs:{"is-clear":e.isClear},on:{change:e.change},model:{value:e.detail,callback:function(t){e.detail=t},expression:"detail"}})],1)]),a("el-form-item",{attrs:{label:"是否发布国际版",prop:"delivery","label-width":"130px"}},[a("div",{staticClass:"gd-release-switch"},[a("el-switch",{model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}})],1)]),a("el-form-item",[a("div",{staticClass:"gd-release-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleQuery("form")}}},[e._v(" 保存并预览 ")]),a("el-button",[e._v("取消")])],1)])],1),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"gd-release-dialogform"},[a("el-form",{ref:"materialForm",staticClass:"demo-ruleForm",attrs:{model:e.materialForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品规格",prop:"specTempIndex"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.materialForm.specTempIndex,callback:function(t){e.$set(e.materialForm,"specTempIndex",t)},expression:"materialForm.specTempIndex"}})],1),a("el-form-item",{attrs:{label:"商品图片",prop:"url"}},[a("div",{staticStyle:{display:"flex"}},[a("el-upload",{ref:"upload",attrs:{drag:"",multiple:"",name:"files","list-type":"picture-card",data:e.upData,limit:e.skuLimit,action:e.imageAction,"on-preview":e.handleSkuPreview,"on-remove":e.handleSkuRemove,"on-exceed":e.onSkuExceed,"on-error":e.uploadError,"on-success":e.uploadSkuSuccess,"before-upload":e.beforeSkuAvatarUpload,headers:{Authorization:this.$store.getters.token},"auto-upload":!0}},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]),a("el-dialog",{attrs:{visible:e.skudialogUpload},on:{"update:visible":function(t){e.skudialogUpload=t}}},[a("img",{attrs:{width:"100%",src:e.skudialogImageUrl,alt:""}})])],1)]),a("el-form-item",{attrs:{label:"发布库存量",prop:"goodsStockVo.num"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.materialForm.goodsStockVo.num,callback:function(t){e.$set(e.materialForm.goodsStockVo,"num",t)},expression:"materialForm.goodsStockVo.num"}})],1),a("el-form-item",{attrs:{label:"单品价格",prop:"perPrice"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.materialForm.perPrice,callback:function(t){e.$set(e.materialForm,"perPrice",t)},expression:"materialForm.perPrice"}})],1),a("el-form-item",{attrs:{label:"最低采购量",prop:"minPurchase"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.materialForm.minPurchase,callback:function(t){e.$set(e.materialForm,"minPurchase",t)},expression:"materialForm.minPurchase"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.materialForm.remark,callback:function(t){e.$set(e.materialForm,"remark",t)},expression:"materialForm.remark"}})],1),a("el-form-item",{attrs:{label:"展示价格",prop:"showPrice"}},[a("el-input",{attrs:{disabled:"",placeholder:""},model:{value:e.showPrice,callback:function(t){e.showPrice=t},expression:"showPrice"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitMaterial("materialForm")}}},[e._v("提交")])],1)],1)],1)])],1)])},l=[],o=(r("c975"),r("d81d"),r("a434"),r("b0c0"),r("a9e3"),r("d3b7"),r("ac1f"),r("25f0"),r("1276"),r("ade3")),s=r("b85c"),n=r("06f6"),u=(r("1157"),r("5c96")),c=r("ad8f"),d={components:{EditorBar:n["a"]},data:function(){return{imageAction:this.$WebUrl+"/file/upload",upData:{code:2},make:[{value:1,label:"注塑"},{value:2,label:"吹塑"},{value:3,label:"挤塑"},{value:4,label:"热塑"},{value:5,label:"压塑"},{value:6,label:"拉丝"},{value:7,label:"轧光"},{value:8,label:"真空"},{value:9,label:"螺旋"},{value:10,label:"其他"}],limit:20,skuLimit:1,dialogVisible:!1,dialogImageUrl:"",dialogUpload:!1,skudialogUpload:!1,skudialogImageUrl:"",skufileList:"",disabled:!1,fileList:[],fileArray:[],vals:"",sendArea:"",form:{name:"",title:"",serial:"",making:"",material:"",brand:"",origin:"",unit:"",address:"",freight:"",keywords:"",desc:"",val:"",textarea:"",detail:"",delivery:!1},rules:{name:[{required:!0,message:"请输入标题",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}],serial:[{required:!0,message:"请输入",trigger:"blur"}],material:[{required:!0,message:"请输入",trigger:"blur"}],keywords:[{required:!0,message:"请输入",trigger:"blur"}],desc:[{required:!0,message:"请输入",trigger:"blur"}],val:[{required:!0,message:"请输入",trigger:"blur"}],textarea:[{required:!0,message:"请输入",trigger:"blur"}]},materialForm:{specTempIndex:"",url:"",goodsStockVo:{num:""},perPrice:"",minPurchase:"",remark:"",showPrice:""},tableData:[],props:{},isClear:!1,detail:"",content:"",options:[],querId:"",idx:"",urls:[],spuId:0,provinceName:"",cityName:"",areaName:"",provinceId:"",cityId:"",areaId:""}},computed:{showPrice:function(){var e=this.materialForm.perPrice*this.materialForm.minPurchase;return e}},created:function(){var e=this;e.idx=this.$route.query.idxs,e.handleSave(),this.$http.get("/citylist.json").then((function(e){var t=e.data;console.log(e.data),this.options=t})).catch((function(e){console.log("出错喽："+e)}))},mounted:function(){document.querySelector("body").setAttribute("style","background-color:#FAFAFA; overflow-x: hidden;")},beforeDestroy:function(){document.querySelector("body").removeAttribute("style")},methods:(a={handleMak:function(e){console.log(JSON.stringify(this.form.making.toString()))},handleQuery:function(e){var t=this,r=this;if(""!=this.tableData)if(""!=this.fileList)if("<p><br></p>"!=this.detail){for(var a in r.fileArray){var i=r.fileArray[a].url;if(-1!=i.indexOf("pic/")){var l=r.fileArray[a].url.split("pic/")[1];r.urls.push({url:l,id:r.fileArray[a].id}),console.log(r.urls)}else r.urls.push({url:r.fileArray[a].url,type:1})}this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;console.log(t.spuId),Object(c["v"])({status:1,goodsSkuVoList:t.tableData,title:t.form.name,subTitle:t.form.title,code:t.form.serial,craftType:t.form.making.toString(),material:t.form.material,brand:t.form.brand,producingArea:t.form.origin,unit:t.form.unit,provinceId:t.provinceId,provinceName:t.provinceName,cityId:t.cityId,cityName:t.cityName,areaId:t.areaId,areaName:t.areaName,deliverWay:t.form.freight,keywords:t.form.keywords,profiles:t.form.textarea,detail:t.detail,goodsImgVos:t.urls,spuId:t.spuId,shopId:t.$store.state.user.userInfo.id}).then((function(e){200==e.code&&t.$router.push({path:"/shop/previewDetail",query:{idx:t.idx}})}))}))}else Object(u["Message"])({message:"详细内容不能为空",type:"error",duration:5e3});else Object(u["Message"])({message:"图片不能为空",type:"error",duration:5e3});else Object(u["Message"])({message:"规格不能为空",type:"error",duration:5e3})},change:function(e){this.detail=e},getCascaderObj:function(e,t){return e.map((function(e,r,a){var i,l=Object(s["a"])(t);try{for(l.s();!(i=l.n()).done;){var o=i.value;if(o.value==e)return t=o.children,o}}catch(n){l.e(n)}finally{l.f()}return null}))},handleAddress:function(e){this.vals=this.getCascaderObj(this.form.val,this.options),console.log(this.vals),this.vals.length<3?(this.provinceName=this.vals[0].label,this.cityName=this.vals[1].label,this.provinceId=e[0],this.cityId=e[1],this.sendArea=this.vals[0].label+this.vals[1].label):(this.provinceName=this.vals[0].label,this.cityName=this.vals[1].label,this.areaName=this.vals[2].label,this.provinceId=e[0],this.cityId=e[1],this.areaId=e[2],this.sendArea=this.vals[0].label+this.vals[1].label+this.vals[2].label),console.log(data),this.sendArea=data},onSubmit:function(e){var t=this,r=this;if(""!=this.tableData)if(""!=this.fileList)if("<p><br></p>"!=this.detail){for(var a in r.fileArray){var i=r.fileArray[a].url;if(-1!=i.indexOf("pic/")){var l=r.fileArray[a].url.split("pic/")[1];r.urls.push({url:l,id:r.fileArray[a].id}),console.log(r.urls)}else r.urls.push({url:r.fileArray[a].url})}this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;Object(c["v"])({status:2,goodsSkuVoList:t.tableData,title:t.form.name,subTitle:t.form.title,code:t.form.serial,craftType:t.form.making.toString(),material:t.form.material,brand:t.form.brand,producingArea:t.form.origin,unit:t.form.unit,provinceId:t.provinceId,provinceName:t.provinceName,cityId:t.cityId,cityName:t.cityName,areaId:t.areaId,areaName:t.areaName,deliverWay:t.form.freight,keywords:t.form.keywords,profiles:t.form.textarea,detail:t.detail,goodsImgVos:t.urls,spuId:t.spuId,shopId:t.$store.state.user.userInfo.id}).then((function(e){200==e.code&&(Object(u["Message"])({message:"发布完成",type:"success",duration:5e3}),t.$router.push({name:"Shop"}))}))}))}else Object(u["Message"])({message:"详细内容不能为空",type:"error",duration:5e3});else Object(u["Message"])({message:"图片不能为空",type:"error",duration:5e3});else Object(u["Message"])({message:"规格不能为空",type:"error",duration:5e3})},deleteRow:function(e,t){t.splice(e,1)},handlePreview:function(e){var t=this;"success"===e.status&&(this.dialogImageUrl=e.url,this.dialogUpload=!0,this.$nextTick((function(){t.$refs.showImage.init(e.url)})))},onExceed:function(e,t){this.$message.error("提示：只能上传20张图片！")},beforeAVatarUpload:function(e){if("image/jpg"!==e.type&&"image/jpeg"!==e.type&&"image/png"!==e.type&&"image/gif"!==e.type)return this.$message.error("只支持jpg、png、gif格式的图片！"),!1},uploadSuccess:function(e,t,r){console.log("上传图片成功"),console.log(e.result.url[0]),this.fileArray.push({url:this.$UploadUrl+e.result.url[0]}),console.log(this.fileArray)},handleRemove:function(e,t){t=t.map((function(e){return{url:e.url,type:1}})),this.fileArray=t},uploadError:function(e,t,r){this.$message.error("上传图片失败！")},onBeforeUpload:function(e){var t="image/jpeg"===e.type||"image/gif",r=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),r||this.$message.error("上传文件大小不能超过 1MB!"),t&&r},submitMaterial:function(e){var t={specTempIndex:this.materialForm.specTempIndex,url:this.skufileList,goodsStockVo:{num:this.materialForm.goodsStockVo.num},perPrice:this.materialForm.perPrice,minPurchase:this.materialForm.minPurchase,remark:this.materialForm.remark,showPrice:this.showPrice};this.dialogVisible=!1,this.tableData.push(t),this.$refs.upload.clearFiles(),this.$refs.materialForm.resetFields()},handleSkuRemove:function(e,t){t=t.map((function(e){return{url:e.response.result.url[0],type:1}})),this.skufileList=t},handleSkuPreview:function(e){var t=this;"success"===e.status&&(this.skudialogImageUrl=e.url,this.skudialogUpload=!0,this.$nextTick((function(){t.$refs.showImage.init(e.url)})))},onSkuExceed:function(e,t){this.$message.error("提示：只能上传1张图片！")},beforeSkuAvatarUpload:function(e){if("image/jpg"!==e.type&&"image/jpeg"!==e.type&&"image/png"!==e.type)return this.$message.error("只支持jpg、png、gif格式的图片！"),!1},uploadSkuSuccess:function(e,t,r){console.log("上传图片成功"),console.log(e.result.url[0]),this.skufileList=e.result.url[0]}},Object(o["a"])(a,"onBeforeUpload",(function(e){var t="image/jpeg"===e.type||"image/gif",r=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),r||this.$message.error("上传文件大小不能超过 1MB!"),t&&r})),Object(o["a"])(a,"handleSave",(function(){var e=this;this.idx&&Object(c["g"])(this.idx).then((function(t){e.fileList=t.result.goodsImgVos,e.fileArray=t.result.goodsImgVos;var r=t.result.goodsSkuVoList;r.map((function(e){e.goodsStockVo.num=e.goodsStockVo.availableNum})),e.tableData=r,e.form.name=t.result.title,e.form.title=t.result.subTitle,e.form.serial=t.result.code;var a=t.result.craftType.split(",");e.form.making=a.map(Number);var i=t.result,l=[];l=""==i.areaId?[i.provinceId,i.cityId]:[i.provinceId,i.cityId,i.areaId],e.form.val=l,e.provinceName=i.provinceName,e.cityName=i.cityName,e.areaName=i.areaName,e.provinceId=i.provinceId,e.cityId=i.cityId,e.areaId=i.areaId,e.form.material=t.result.material,e.form.brand=t.result.brand,e.form.origin=t.result.producingArea,e.form.unit=t.result.unit,e.form.freight=t.result.deliverWay,e.form.keywords=t.result.keywords,e.form.textarea=t.result.profiles,e.detail=t.result.detail,e.spuId=t.result.spuId}))})),a)},m=d,f=(r("4ed6"),r("2877")),p=Object(f["a"])(m,i,l,!1,null,null,null);t["default"]=p.exports},a434:function(e,t,r){"use strict";var a=r("23e7"),i=r("23cb"),l=r("a691"),o=r("50c4"),s=r("7b0b"),n=r("65f0"),u=r("8418"),c=r("1dde"),d=r("ae40"),m=c("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!f},{splice:function(e,t){var r,a,c,d,m,f,v=s(this),y=o(v.length),k=i(e,y),I=arguments.length;if(0===I?r=a=0:1===I?(r=0,a=y-k):(r=I-2,a=h(p(l(t),0),y-k)),y+r-a>g)throw TypeError(b);for(c=n(v,a),d=0;d<a;d++)m=k+d,m in v&&u(c,d,v[m]);if(c.length=a,r<a){for(d=k;d<y-a;d++)m=d+a,f=d+r,m in v?v[f]=v[m]:delete v[f];for(d=y;d>y-a+r;d--)delete v[d-1]}else if(r>a)for(d=y-a;d>k;d--)m=d+a-1,f=d+r-1,m in v?v[f]=v[m]:delete v[f];for(d=0;d<r;d++)v[d+k]=arguments[d+2];return v.length=y-a+r,c}})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),i=r("da84"),l=r("94ca"),o=r("6eeb"),s=r("5135"),n=r("c6b6"),u=r("7156"),c=r("c04e"),d=r("d039"),m=r("7c73"),f=r("241c").f,p=r("06cf").f,h=r("9bf2").f,g=r("58a8").trim,b="Number",v=i[b],y=v.prototype,k=n(m(y))==b,I=function(e){var t,r,a,i,l,o,s,n,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=g(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+u}for(l=u.slice(2),o=l.length,s=0;s<o;s++)if(n=l.charCodeAt(s),n<48||n>i)return NaN;return parseInt(l,a)}return+u};if(l(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,w=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof w&&(k?d((function(){y.valueOf.call(r)})):n(r)!=b)?u(new v(I(t)),r,w):I(t)},S=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;S.length>$;$++)s(v,x=S[$])&&!s(w,x)&&h(w,x,p(v,x));w.prototype=y,y.constructor=w,o(i,b,w)}},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0");var a=r("06c5");function i(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Object(a["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,n=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){n=!0,o=e},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(n)throw o}}}}},c149:function(e,t,r){e.exports=r.p+"static/img/icon-physical-add.7f135f52.png"}}]);