(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e01577c"],{"009b":function(t,e,a){"use strict";var r=a("2147"),i=a.n(r);i.a},2147:function(t,e,a){},4939:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gd-pur-detail"},[a("div",{staticClass:"gd-pur-detail-main"},[a("div",{staticClass:"gd-pur-detail-card"},[a("div",{staticClass:"gd-pur-detail-card-l"},[a("p",[t._v("订单号："+t._s(t.result.orderNumber))]),a("h3",[t._v(t._s(t.orderState))])]),a("div",{staticClass:"gd-pur-detail-card-r"},[a("el-steps",{attrs:{active:t.active,"align-center":""}},[a("el-step",{attrs:{title:"提交订单",description:t._f("moment")(t.result.createTime)}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"40px"}},[t._v("")])])],2),a("el-step",{attrs:{title:"付款成功"}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"40px"}},[t._v("")])])],2),a("el-step",{attrs:{title:"商品出库"}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"40px"}},[t._v("")])])],2),a("el-step",{attrs:{title:"等待收货"}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"40px"}},[t._v("")])])],2),a("el-step",{attrs:{title:"完成"}},[a("template",{slot:"icon"},[a("i",{staticClass:"icon iconfont",staticStyle:{"font-size":"40px"}},[t._v("")])])],2)],1)],1)]),a("div",{staticClass:"gd-pur-detail-card gd-pur-detail-card-t",staticStyle:{"margin-top":"15px"}},[a("h3",[t._v("物流跟踪")]),a("el-timeline",{attrs:{reverse:t.reverse}},[t._l(t.activities,(function(e,r){return a("el-timeline-item",{key:r,attrs:{color:e.color}},[1==e.state?a("p",[a("span",[t._v("已下单")]),a("span",[t._v("温馨提示：您的订单预计8月24日09:00-15:00送达您手中")]),a("span",[t._v("您的订单预计2020-08-23 17:48开始处理，请您耐心等待")]),a("span",[t._v("您的订单已经进入金塑宝厦门仓库准备出库")])]):t._e(),2==e.state?a("p",[a("span",[t._v("仓库处理中")]),a("span",[t._v("扫描完成")]),a("span",[t._v("拣货完成")])]):t._e(),3==e.state?a("p",[a("span",[t._v("运输中")]),a("span",[t._v("您的订单已到达金塑宝【厦门前埔营业部】")]),a("span",[t._v("您的订单在金塑宝【厦门分拣中心】分拣完成")])]):t._e(),4==e.state?a("p",[a("span",[t._v("派送中")]),a("span",[t._v("您的订单正在配送途中（快递员：雷绍彬，电话：13063040587），请您耐心等待。")])]):t._e(),5==e.state?a("p",[a("span",[t._v("已签收")]),a("span",[t._v("您的订单已由本人签收。如有疑问您可以联系配送员【雷绍彬，13063040587】确认。感谢您在金塑宝购物，欢迎再次光临。")])]):t._e(),a("div",{staticClass:"gd-home-market-line-left"},[t._v(" "+t._s(e.timestamp)+" ")])])})),a("li",{staticClass:"el-timeline-item"},[a("div",{staticClass:"el-timeline-item__tail"})])],2)],1),a("div",{staticClass:"gd-pur-detail-card gd-pur-detail-card-t",staticStyle:{"margin-top":"15px"}},[a("h3",[t._v("订单信息")]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"gd-pur-detail-s"},[a("p",[t._v("收货姓名："+t._s(t.receivingAddressVo.contact))]),a("p",[t._v("收货电话："+t._s(t.receivingAddressVo.phone))]),a("p",[t._v("收货地址："+t._s(t.receivingAddressVo.provinceName)+t._s(t.receivingAddressVo.cityName)+t._s(t.receivingAddressVo.areaName)+t._s(t.receivingAddressVo.address))]),a("p",[t._v("运送方式：金塑宝物流")])]),a("div",{staticClass:"gd-pur-detail-s"},[a("p",[t._v("订单编号："+t._s(t.result.orderNumber))]),a("p",[t._v("银联交易号：")]),a("p",[t._v("订单创建日期："+t._s(t._f("moment")(t.result.createTime)))]),a("p",[t._v("付款时间：")]),a("p",[t._v("发货时间")]),a("p",[t._v("完成时间")])])])]),a("div",{staticClass:"gd-pur-detail-card gd-pur-detail-card-t gd-pur-detail-card-ts",staticStyle:{"margin-top":"15px"}},[a("order-goods-table",{attrs:{"table-data":t.orderGoods,buyerSignState:t.result.buyerSignState,id:t.id}}),a("p",[t._v("运费：20元")])],1)])])},i=[],n=(a("96cf"),a("1da1")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gd-order-center-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.localTableData,border:"","row-key":"id","span-method":t.objectSpanMethod}},[a("el-table-column",{attrs:{label:"产品图片",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;t.column,t.$index;return[a("div",{staticClass:"gd-placeOrder-title"},[a("img",{attrs:{src:e.picUrl,width:"20",height:"20",alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"name",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"specification",label:"类型"}}),a("el-table-column",{attrs:{prop:"perPrice",label:"单价"}}),a("el-table-column",{attrs:{prop:"num",label:"数量"}}),a("el-table-column",{attrs:{prop:"totalPrice",label:"总价"}}),a("el-table-column",{attrs:{prop:"remark",label:"说明"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:" gd-purOrder-btn"},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleRelation(e.row.orderId,e.row)}}},[t._v("联系客服")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleExamine(e.row.orderId,1)}}},[t._v("下载合同")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleExamine(e.row.orderId,2)}}},[t._v("查看合同")])],1)]}}])})],1),a("p",[t._v("实付款："+t._s(t.orderPay)+"元")]),a("el-dialog",{staticStyle:{height:"100vh"},attrs:{title:"合同签署",visible:t.centerDialogVisible,width:"80%","before-close":t.handleClose,center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.contractUrl}})]),a("p",{domProps:{innerHTML:t._s(t.downPdf)}})],1)},o=[],l=(a("4160"),a("d81d"),a("a9e3"),a("159b"),{name:"OrderGoodsTable",components:{},mixins:[],props:{tableData:{type:Array,default:function(){return[]}},id:[String,Number],buyerSignState:[String,Number]},data:function(){return{localTableData:[],centerDialogVisible:!1,contractUrl:"",downPdf:""}},computed:{orderPay:function(){var t=this.tableData.map((function(t){return t.totalPrice})),e=0;return t.forEach((function(t,a,r){e+=t}),0),e}},watch:{tableData:{handler:function(t){this.localTableData=t},deep:!0}},created:function(){this.localTableData=this.tableData},mounted:function(){},destroyed:function(){},methods:{handleRelation:function(t,e){this.$router.push({name:"Chat"})},handleExamine:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,0===a.buyerSignState){t.next=8;break}return t.next=4,a.$ajax.goods.getOrderContract(a.id);case 4:r=t.sent,1==e?(i=document.createElement("a"),i.href=r.result.downloadUrl,document.body.appendChild(i),i.click()):2==e&&(a.centerDialogVisible=!0,a.contractUrl=r.result.viewUrl),t.next=9;break;case 8:a.$message.error("还未生成合同");case 9:t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,a=t.columnIndex;if(0===a||6===a||7===a)return e%2===0?{rowspan:2,colspan:1}:{rowspan:0,colspan:0}},handleClose:function(){this.centerDialogVisible=!1}}}),c=l,d=(a("009b"),a("2877")),u=Object(d["a"])(c,s,o,!1,null,null,null),p=u.exports,v={components:{OrderGoodsTable:p},data:function(){return{id:0,reverse:!0,active:1,orderGoods:[],result:[],orderState:"提交订单",receivingAddressVo:{},activities:[{state:1,timestamp:"2018-04-15",color:"#EE7C51"},{state:2,timestamp:"2020-06-28",color:"#EE7C51"},{state:3,timestamp:"2018-04-11",color:"#EE7C51"},{state:4,timestamp:"2018-04-12",color:"#EE7C51"},{state:5,timestamp:"2018-04-13",color:"#EE7C51"}]}},methods:{handleDetail:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$ajax.goods.getOrderInfo(t.id);case 3:a=e.sent,t.orderGoods=a.result.orderItemVos,t.receivingAddressVo=a.result.receivingAddressVo,t.result=a.result,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()}},mounted:function(){this.id=this.$route.params.id,this.handleDetail(),document.querySelector("body").setAttribute("style","background-color:#FAFAFA; overflow-x: hidden;")},beforeDestroy:function(){document.querySelector("body").removeAttribute("style")}},f=v,m=(a("7191"),Object(d["a"])(f,r,i,!1,null,null,null));e["default"]=m.exports},5252:function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i=a("5899"),n="["+i+"]",s=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(s,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},7191:function(t,e,a){"use strict";var r=a("5252"),i=a.n(r);i.a},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),s=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),d=a("c04e"),u=a("d039"),p=a("7c73"),v=a("241c").f,f=a("06cf").f,m=a("9bf2").f,b=a("58a8").trim,_="Number",h=i[_],g=h.prototype,y=l(p(g))==_,S=function(t){var e,a,r,i,n,s,o,l,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=b(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(n=c.slice(2),s=n.length,o=0;o<s;o++)if(l=n.charCodeAt(o),l<48||l>i)return NaN;return parseInt(n,r)}return+c};if(n(_,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var w,C=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof C&&(y?u((function(){g.valueOf.call(a)})):l(a)!=_)?c(new h(S(e)),a,C):S(e)},x=r?v(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)o(h,w=x[E])&&!o(C,w)&&m(C,w,f(h,w));C.prototype=g,g.constructor=C,s(i,_,C)}}}]);